import{d as I,r as L,e as g,c as d,o as n,b as o,g as f,F as y,l as C,n as h,a as b,t as v,m as z,w as j,j as B,_ as M,p as N}from"./index-DBcLFWe9.js";import{_ as A}from"./FormInput.vue_vue_type_script_setup_true_lang-BMcWnAKU.js";import{_ as K}from"./Button.vue_vue_type_script_setup_true_lang-CH9AB8bP.js";import{_ as S}from"./ItemSearch-CCBr724u.js";const T={class:"space-y-4"},D={class:"space-y-1 max-h-64 overflow-y-auto custom-scrollbar"},E={class:"text-neutral-200 text-sm flex items-center gap-2"},F={key:0,class:"px-1.5 py-0.5 text-[10px] font-medium bg-neutral-700/50 text-neutral-400 rounded"},U=["name","checked","disabled","onChange"],R=["name","checked","disabled","onChange"],W={class:"text-neutral-200 text-sm flex items-center gap-2"},X=["onClick"],Y={class:"w-16 flex justify-center cursor-pointer"},Z=["name","checked","disabled","onChange"],q={class:"w-16 flex justify-center cursor-pointer"},G=["name","checked","disabled","onChange"],H={key:0,class:"flex gap-2 pt-2 border-t border-neutral-800"},J=I({__name:"LootConfigTable",props:{items:{},modelValue:{},disabled:{type:Boolean},lockedItems:{},allowCustomItems:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:c}){const l=s;function r(a){var t;return!!((t=l.lockedItems)!=null&&t[a])}function k(a){var t,e;return((e=(t=l.lockedItems)==null?void 0:t[a])==null?void 0:e.reason)||""}const p=c,i=L(""),w=g(()=>{const a=new Map;return l.modelValue.forEach(t=>a.set(t.itemId,t.action)),a});function x(a){return w.value.get(a)||"keep"}function m(a,t){const e=l.modelValue.filter(u=>u.itemId!==a);e.push({itemId:a,action:t}),p("update:modelValue",e)}function _(){if(!i.value.trim())return;const a=i.value.toLowerCase().replace(/\s+/g,"_");if(l.modelValue.some(e=>e.itemId===a)){i.value="";return}const t=[...l.modelValue,{itemId:a,action:"keep"}];p("update:modelValue",t),i.value=""}function $(a){p("update:modelValue",l.modelValue.filter(t=>t.itemId!==a))}const V=g(()=>{const a=new Set(l.items.map(t=>t.id));return l.modelValue.filter(t=>!a.has(t.itemId))});return(a,t)=>(n(),d("div",T,[t[3]||(t[3]=o("div",{class:"grid grid-cols-[1fr,auto,auto] gap-2 text-sm font-medium text-neutral-400 px-2"},[o("div",null,"Item"),o("div",{class:"w-16 text-center"},"Keep"),o("div",{class:"w-16 text-center"},"Drop")],-1)),o("div",D,[(n(!0),d(y,null,C(s.items,e=>(n(),d("div",{key:e.id,class:h(["grid grid-cols-[1fr,auto,auto] gap-2 items-center px-2 py-2 rounded-lg transition-colors",r(e.id)?"opacity-50":"hover:bg-neutral-800/50"])},[o("div",E,[b(S,{id:e.osrsId,size:"1.25rem"},null,8,["id"]),o("span",null,v(e.name),1),r(e.id)?(n(),d("span",F,v(k(e.id)),1)):f("",!0)]),o("label",{class:h(["w-16 flex justify-center",r(e.id)?"cursor-not-allowed":"cursor-pointer"])},[o("input",{type:"radio",name:`loot-${e.id}`,checked:x(e.id)==="keep",disabled:s.disabled||r(e.id),class:"radio-keep",onChange:u=>m(e.id,"keep")},null,40,U)],2),o("label",{class:h(["w-16 flex justify-center",r(e.id)?"cursor-not-allowed":"cursor-pointer"])},[o("input",{type:"radio",name:`loot-${e.id}`,checked:x(e.id)==="drop",disabled:s.disabled||r(e.id),class:"radio-drop",onChange:u=>m(e.id,"drop")},null,40,R)],2)],2))),128)),s.allowCustomItems?(n(!0),d(y,{key:0},C(V.value,e=>(n(),d("div",{key:e.itemId,class:"grid grid-cols-[1fr,auto,auto] gap-2 items-center px-2 py-2 rounded-lg bg-neutral-800/30 border border-neutral-700/50"},[o("div",W,[o("span",null,v(e.itemId.replace(/_/g," ")),1),o("button",{class:"text-neutral-500 hover:text-red-400 transition-colors",onClick:u=>$(e.itemId)},[...t[1]||(t[1]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,X)]),o("label",Y,[o("input",{type:"radio",name:`loot-${e.itemId}`,checked:e.action==="keep",disabled:s.disabled,class:"radio-keep",onChange:u=>m(e.itemId,"keep")},null,40,Z)]),o("label",q,[o("input",{type:"radio",name:`loot-${e.itemId}`,checked:e.action==="drop",disabled:s.disabled,class:"radio-drop",onChange:u=>m(e.itemId,"drop")},null,40,G)])]))),128)):f("",!0)]),s.allowCustomItems?(n(),d("div",H,[b(A,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),placeholder:"Add custom item...",class:"flex-1",disabled:s.disabled,onKeyup:z(_,["enter"])},null,8,["modelValue","disabled"]),b(K,{variant:"secondary",size:"sm",disabled:s.disabled||!i.value.trim(),onClick:_},{default:j(()=>[...t[2]||(t[2]=[B(" Add ",-1)])]),_:1},8,["disabled"])])):f("",!0)]))}}),ae=M(J,[["__scopeId","data-v-7eb26555"]]),O={class:"relative rounded-lg overflow-hidden border border-neutral-700 bg-neutral-800"},P=["src"],se=I({__name:"WorldMap",props:{x:{},y:{},plane:{default:0},zoom:{default:9},height:{default:"14rem"}},setup(s){const c=s,l=g(()=>`https://map.lanbotpanel.com/?centreX=${c.x}&centreY=${c.y}&centreZ=${c.plane}&zoom=${c.zoom}`);return(r,k)=>(n(),d("div",O,[o("iframe",{class:"w-full",style:N({height:s.height}),src:l.value,frameborder:"0"},null,12,P)]))}});export{ae as L,se as _};
