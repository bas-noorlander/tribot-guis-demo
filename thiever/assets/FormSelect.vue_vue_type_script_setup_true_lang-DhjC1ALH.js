import{d as z,r as f,e as V,z as R,A as T,c as l,o as e,g as i,b as s,h as q,t as b,n as m,T as D,a as M,G as N,w as O,p as $,k as j,s as F,D as U,F as A,l as G,E as P}from"./index-BWHDonxN.js";const Q={key:0,class:"block text-sm font-medium text-neutral-400 mb-2"},H={class:"relative"},I=["disabled"],J={class:"flex items-center gap-3 pr-8"},K=["src","alt"],W={class:"flex flex-col"},X={key:0,class:"text-xs text-neutral-500"},Y={class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-neutral-500"},Z={key:1,class:"text-red-400 text-sm mt-1 block"},ee={key:0,class:"p-2 border-b border-neutral-800"},te={class:"max-h-64 overflow-y-auto"},le=["onClick"],ae=["src","alt"],oe={class:"flex flex-col"},ne={key:0,class:"text-xs text-neutral-500"},se={key:0,class:"px-4 py-3 text-neutral-500 text-sm text-center"},ue=z({__name:"FormSelect",props:{modelValue:{},options:{},placeholder:{},required:{type:Boolean},disabled:{type:Boolean},label:{},searchable:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:B}){const c=o,L=B,r=f(!1),d=f(""),v=f(null),p=f(null),g=f({top:"0px",left:"0px",width:"0px"}),u=V(()=>c.options.find(a=>a.value===c.modelValue)),h=V(()=>{if(!d.value)return c.options;const a=d.value.toLowerCase();return c.options.filter(n=>n.label.toLowerCase().includes(a))});function x(){if(!v.value)return;const a=v.value.getBoundingClientRect();g.value={top:`${a.bottom+8}px`,left:`${a.left}px`,width:`${a.width}px`}}async function E(){c.disabled||(r.value=!r.value,r.value&&(d.value="",await P(),x()))}function S(a){L("update:modelValue",a),r.value=!1,d.value=""}function y(a){const n=a.target;v.value&&!v.value.contains(n)&&p.value&&!p.value.contains(n)&&(r.value=!1)}function w(){r.value&&x()}return R(()=>{document.addEventListener("click",y),window.addEventListener("scroll",w,!0),window.addEventListener("resize",x)}),T(()=>{document.removeEventListener("click",y),window.removeEventListener("scroll",w,!0),window.removeEventListener("resize",x)}),(a,n)=>{var k,_,C;return e(),l("div",null,[o.label?(e(),l("label",Q,b(o.label),1)):i("",!0),s("div",H,[s("button",{ref_key:"triggerRef",ref:v,type:"button",disabled:o.disabled,class:m(["w-full px-4 py-3 bg-neutral-900 border border-neutral-700 rounded-lg text-left transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500/30 focus:border-orange-500/50 hover:border-neutral-600 disabled:bg-neutral-800 disabled:text-neutral-500 disabled:cursor-not-allowed",{"ring-2 ring-orange-500/30 border-orange-500/50":r.value}]),onClick:E},[s("div",J,[(k=u.value)!=null&&k.icon?(e(),l("img",{key:0,src:u.value.icon,alt:u.value.label,class:"w-8 h-8 object-contain rounded"},null,8,K)):i("",!0),s("div",W,[s("span",{class:m(u.value?"text-neutral-100":"text-neutral-500")},b(((_=u.value)==null?void 0:_.label)||o.placeholder||"Select..."),3),(C=u.value)!=null&&C.subtitle?(e(),l("span",X,b(u.value.subtitle),1)):i("",!0)])]),s("div",Y,[(e(),l("svg",{class:m(["w-5 h-5 transition-transform duration-200",{"rotate-180":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...n[2]||(n[2]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],10,I)]),o.required&&!o.modelValue?(e(),l("span",Z,"Required")):i("",!0),(e(),q(D,{to:"body"},[M(N,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:O(()=>[r.value?(e(),l("div",{key:0,ref_key:"dropdownRef",ref:p,class:"fixed z-[9999] bg-neutral-900 border border-neutral-700 rounded-lg shadow-xl overflow-hidden",style:$(g.value)},[o.searchable?(e(),l("div",ee,[j(s("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>d.value=t),type:"text",placeholder:"Search...",class:"w-full px-3 py-2 bg-neutral-800 border border-neutral-700 rounded-md text-sm text-neutral-100 focus:outline-none focus:ring-1 focus:ring-orange-500/30 focus:border-orange-500/50",onClick:n[1]||(n[1]=U(()=>{},["stop"]))},null,512),[[F,d.value]])])):i("",!0),s("div",te,[(e(!0),l(A,null,G(h.value,t=>(e(),l("button",{key:t.value,type:"button",class:m(["w-full px-4 py-3 flex items-center gap-3 text-left transition-colors hover:bg-neutral-800",{"bg-orange-500/10":t.value===o.modelValue,"text-neutral-200":t.value!==o.modelValue}]),onClick:re=>S(t.value)},[t.icon?(e(),l("img",{key:0,src:t.icon,alt:t.label,class:"w-8 h-8 object-contain rounded"},null,8,ae)):i("",!0),s("div",oe,[s("span",{class:m({"text-orange-400":t.value===o.modelValue})},b(t.label),3),t.subtitle?(e(),l("span",ne,b(t.subtitle),1)):i("",!0)])],10,le))),128)),h.value.length===0?(e(),l("div",se," No options found ")):i("",!0)])],4)):i("",!0)]),_:1})]))])}}});export{ue as _};
